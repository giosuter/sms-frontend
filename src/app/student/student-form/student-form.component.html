<mat-card class="student-form-card">
  <mat-toolbar color="primary">
    {{ isEditMode ? ('STUDENT.EDIT_TITLE' | translate) : ('STUDENT.CREATE_TITLE' | translate) }}
  </mat-toolbar>

  <form [formGroup]="studentForm" (ngSubmit)="onSubmit()" class="student-form">

    <!-- FIRST ROW -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.FIRST_NAME' | translate }}</mat-label>
        <input matInput formControlName="firstName">
        <mat-error *ngIf="studentForm.get('firstName')?.hasError('required')">
          {{ 'STUDENT.FIRST_NAME_REQUIRED' | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.LAST_NAME' | translate }}</mat-label>
        <input matInput formControlName="lastName">
        <mat-error *ngIf="studentForm.get('lastName')?.hasError('required')">
          {{ 'STUDENT.LAST_NAME_REQUIRED' | translate }}
        </mat-error>
      </mat-form-field>
    </div>

    <!-- EMAIL ROW -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.EMAIL' | translate }}</mat-label>
        <input matInput formControlName="email" type="email">
        <mat-error *ngIf="studentForm.get('email')?.hasError('required')">
          {{ 'STUDENT.EMAIL_REQUIRED' | translate }}
        </mat-error>
        <mat-error *ngIf="studentForm.get('email')?.hasError('email')">
          {{ 'STUDENT.EMAIL_INVALID' | translate }}
        </mat-error>
      </mat-form-field>
    </div>

    <!-- ADDRESS ROW -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.ADDRESS' | translate }}</mat-label>
        <input matInput formControlName="address">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.PLZ' | translate }}</mat-label>
        <input matInput formControlName="plz">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.CITY' | translate }}</mat-label>
        <input matInput formControlName="city">
      </mat-form-field>
    </div>

    <!-- COUNTRY/NATIONALITY -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.COUNTRY' | translate }}</mat-label>
        <input matInput formControlName="country">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.NATIONALITY' | translate }}</mat-label>
        <input matInput formControlName="nationality">
      </mat-form-field>
    </div>

    <!-- PHONE -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.PHONE' | translate }}</mat-label>
        <input matInput formControlName="phoneNumber">
      </mat-form-field>
    </div>

    <!-- DATE FIELDS -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.DATE_OF_BIRTH' | translate }}</mat-label>
        <input matInput [matDatepicker]="dobPicker" formControlName="dateOfBirth">
        <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
        <mat-datepicker #dobPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.ENROLLMENT_DATE' | translate }}</mat-label>
        <input matInput [matDatepicker]="enrollPicker" formControlName="enrollmentDate">
        <mat-datepicker-toggle matSuffix [for]="enrollPicker"></mat-datepicker-toggle>
        <mat-datepicker #enrollPicker></mat-datepicker>
      </mat-form-field>
    </div>

    <!-- GENDER / STATUS / LEVEL -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.GENDER' | translate }}</mat-label>
        <mat-select formControlName="gender">
          <mat-option *ngFor="let g of genderOptions" [value]="g">{{ g }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.STATUS' | translate }}</mat-label>
        <mat-select formControlName="status">
          <mat-option *ngFor="let s of statusOptions" [value]="s">{{ s }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.PROGRAM_LEVEL' | translate }}</mat-label>
        <mat-select formControlName="programLevel">
          <mat-option *ngFor="let p of programLevels" [value]="p">{{ p }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <!-- STUDENT ID -->
    <div class="form-row">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'STUDENT.STUDENT_ID' | translate }}</mat-label>
        <input matInput formControlName="studentId">
        <mat-error *ngIf="studentForm.get('studentId')?.hasError('required')">
          {{ 'STUDENT.STUDENT_ID_REQUIRED' | translate }}
        </mat-error>
      </mat-form-field>
    </div>

    <!-- ACTION BUTTONS -->
    <div class="form-row form-buttons">
      <button mat-raised-button color="primary" type="submit">
        {{ isEditMode ? ('STUDENT.UPDATE' | translate) : ('STUDENT.CREATE' | translate) }}
      </button>
      <button mat-button color="warn" type="button" (click)="onCancel()">
        {{ 'STUDENT.CANCEL' | translate }}
      </button>
    </div>

  </form>
</mat-card>